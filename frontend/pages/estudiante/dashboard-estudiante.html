<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - SpeakLexi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            900: '#0c4a6e',
                        },
                        dark: {
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'pulse-soft': 'pulseSoft 2s infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-dark-900 transition-colors duration-300">
    <!-- Navbar Mejorada -->
    <nav class="bg-white dark:bg-dark-800 shadow-lg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-8">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">
                        SpeakLexi
                    </h1>
                    <div class="hidden lg:flex gap-6">
                        <a href="#" class="text-primary-600 dark:text-primary-400 font-medium border-b-2 border-primary-600 dark:border-primary-400 pb-1 transition-colors">
                            <i class="fas fa-home mr-2"></i>Inicio
                        </a>
                        <a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                            <i class="fas fa-book mr-2"></i>Lecciones
                        </a>
                        <a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                            <i class="fas fa-trophy mr-2"></i>Logros
                        </a>
                        <a href="#" class="text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                            <i class="fas fa-chart-line mr-2"></i>Progreso
                        </a>
                    </div>
                </div>
                
                <div class="flex items-center gap-4">
                    <!-- Toggle Modo Oscuro/Claro -->
                    <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <i class="fas fa-moon text-gray-600 dark:text-yellow-400" id="theme-icon"></i>
                    </button>
                    
                    <!-- Notificaciones -->
                    <div class="relative">
                        <button class="relative p-2 text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse-soft"></span>
                        </button>
                    </div>
                    
                    <!-- User Menu Mejorado -->
                    <div class="relative">
                        <button id="user-menu-btn" class="flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                            <img src="https://ui-avatars.com/api/?name=Usuario&background=6366f1&color=fff" class="w-8 h-8 rounded-full" alt="Avatar" id="user-avatar">
                            <span class="hidden md:block font-medium text-gray-700 dark:text-gray-200" id="user-name">Usuario</span>
                            <i class="fas fa-chevron-down text-sm text-gray-500 dark:text-gray-400 transition-transform" id="user-menu-arrow"></i>
                        </button>
                        <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-56 bg-white dark:bg-dark-800 rounded-xl shadow-xl py-3 z-50 border border-gray-200 dark:border-gray-600 animate-slide-in">
                            <div class="px-4 py-2 border-b border-gray-100 dark:border-gray-700">
                                <p class="text-sm font-semibold text-gray-900 dark:text-white" id="dropdown-name">Usuario</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400" id="dropdown-email">usuario@example.com</p>
                            </div>
                            <a href="perfil.html" class="flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <i class="fas fa-user mr-3 text-gray-400"></i>
                                Mi Perfil
                            </a>
                            <a href="cambiar-curso.html" class="flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <i class="fas fa-language mr-3 text-gray-400"></i>
                                Cambiar Curso
                            </a>
                            <a href="#" class="flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <i class="fas fa-cog mr-3 text-gray-400"></i>
                                Configuraci√≥n
                            </a>
                            <hr class="my-2 border-gray-200 dark:border-gray-700">
                            <button id="logout-btn" class="flex items-center w-full text-left px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors">
                                <i class="fas fa-sign-out-alt mr-3"></i>
                                Cerrar Sesi√≥n
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="lg:hidden bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-gray-700">
        <div class="flex justify-around py-3">
            <a href="#" class="flex flex-col items-center text-primary-600 dark:text-primary-400">
                <i class="fas fa-home mb-1"></i>
                <span class="text-xs">Inicio</span>
            </a>
            <a href="#" class="flex flex-col items-center text-gray-600 dark:text-gray-400">
                <i class="fas fa-book mb-1"></i>
                <span class="text-xs">Lecciones</span>
            </a>
            <a href="#" class="flex flex-col items-center text-gray-600 dark:text-gray-400">
                <i class="fas fa-trophy mb-1"></i>
                <span class="text-xs">Logros</span>
            </a>
            <a href="#" class="flex flex-col items-center text-gray-600 dark:text-gray-400">
                <i class="fas fa-chart-line mb-1"></i>
                <span class="text-xs">Progreso</span>
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header Mejorado -->
        <div class="mb-8 animate-fade-in">
            <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2" id="greeting">¬°Bienvenido!</h2>
            <p class="text-gray-600 dark:text-gray-300">Contin√∫a tu aprendizaje donde lo dejaste</p>
            
            <!-- Breadcrumb -->
            <div class="flex items-center gap-2 mt-4 text-sm text-gray-500 dark:text-gray-400">
                <span>Dashboard</span>
                <i class="fas fa-chevron-right text-xs"></i>
                <span class="text-primary-600 dark:text-primary-400">Inicio</span>
            </div>
        </div>

        <!-- Stats Cards Mejoradas -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Racha Actual</p>
                        <p class="text-3xl font-bold text-orange-600 dark:text-orange-500 mt-1" id="dias-racha">0</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">d√≠as seguidos</p>
                    </div>
                    <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-fire text-orange-600 dark:text-orange-400 text-2xl"></i>
                    </div>
                </div>
                <div class="mt-4 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                    <div class="bg-orange-500 rounded-full h-2 transition-all duration-1000" style="width: 80%"></div>
                </div>
            </div>

            <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">XP Total</p>
                        <p class="text-3xl font-bold text-purple-600 dark:text-purple-500 mt-1" id="total-xp">0</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">puntos acumulados</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-star text-purple-600 dark:text-purple-400 text-2xl"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center gap-2">
                    <div class="flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                        <div class="bg-purple-500 rounded-full h-2 transition-all duration-1000" style="width: 65%"></div>
                    </div>
                    <span class="text-xs text-gray-500 dark:text-gray-400">65%</span>
                </div>
            </div>

            <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Lecciones</p>
                        <p class="text-3xl font-bold text-blue-600 dark:text-blue-500 mt-1" id="lecciones-completadas">0</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">completadas</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-book text-blue-600 dark:text-blue-400 text-2xl"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center justify-between text-sm">
                    <span class="text-gray-500 dark:text-gray-400">Objetivo: 50</span>
                    <span class="text-blue-600 dark:text-blue-400 font-semibold">70%</span>
                </div>
            </div>

            <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Nivel</p>
                        <p class="text-3xl font-bold text-green-600 dark:text-green-500 mt-1" id="nivel-usuario">1</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1" id="nivel-actual">A1 - Principiante</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                        <i class="fas fa-chart-line text-green-600 dark:text-green-400 text-2xl"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center gap-2">
                    <div class="flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                        <div class="bg-gradient-to-r from-green-400 to-green-600 rounded-full h-2 transition-all duration-1000" style="width: 35%"></div>
                    </div>
                    <span class="text-xs text-gray-500 dark:text-gray-400">35%</span>
                </div>
            </div>
        </div>

        <!-- Main Grid Mejorado -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
            <!-- Left Column - 2/3 width -->
            <div class="xl:col-span-2 space-y-8">
                <!-- Continue Learning Card Mejorada -->
                <div class="bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-[1.02] transition-all duration-300">
                    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                        <div class="flex-1">
                            <h3 class="text-2xl font-bold mb-2">¬°Contin√∫a tu aprendizaje!</h3>
                            <p class="text-purple-100 mb-4">Est√°s a punto de alcanzar el siguiente nivel. No te detengas ahora.</p>
                            
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span>Progreso del curso</span>
                                        <span>35%</span>
                                    </div>
                                    <div class="bg-white/20 rounded-full h-3">
                                        <div class="bg-white rounded-full h-3 transition-all duration-1000" style="width: 35%"></div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">Curso actual</p>
                                        <p class="text-xl font-bold" id="idioma-aprendizaje">Ingl√©s</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm opacity-90">Siguiente nivel</p>
                                        <p class="text-xl font-bold">A2</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0">
                            <button class="w-full lg:w-auto bg-white text-purple-600 font-semibold py-4 px-8 rounded-xl hover:bg-gray-100 transition-colors shadow-lg hover:shadow-xl flex items-center justify-center gap-2">
                                <i class="fas fa-play"></i>
                                <span>Continuar Lecci√≥n</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Two Column Grid for Daily Goal and Progress -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Daily Goal Card Mejorada -->
                    <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">Meta Diaria</h3>
                            <span class="text-sm text-gray-600 dark:text-gray-400" id="meta-diaria">30 min</span>
                        </div>
                        
                        <!-- Circular Progress -->
                        <div class="relative w-32 h-32 mx-auto mb-4">
                            <svg class="w-full h-full" viewBox="0 0 36 36">
                                <path class="text-gray-200 dark:text-gray-700" 
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"
                                      fill="none" stroke="currentColor" stroke-width="3"/>
                                <path class="text-green-500" 
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"
                                      fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="60, 100"/>
                                <text x="18" y="20.5" class="text-4px font-bold fill-current text-gray-900 dark:text-white" text-anchor="middle">18/30</text>
                            </svg>
                        </div>
                        
                        <p class="text-center text-sm text-gray-600 dark:text-gray-400">18 de 30 minutos completados hoy</p>
                    </div>

                    <!-- Weekly Progress Card -->
                    <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Progreso Semanal</h3>
                        
                        <div class="space-y-4">
                            <!-- Bar Chart -->
                            <div class="flex items-end justify-between h-24">
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 40%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Lun</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 60%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Mar</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 80%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Mi√©</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 70%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Jue</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 90%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Vie</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 50%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">S√°b</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-6 bg-blue-500 rounded-t-lg mb-1 transition-all duration-500" style="height: 30%"></div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Dom</span>
                                </div>
                            </div>
                            
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-600 dark:text-gray-400">Esta semana</span>
                                <span class="text-blue-600 dark:text-blue-400 font-semibold">+12% vs semana pasada</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Lessons Mejorada -->
                <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Lecciones Recientes</h3>
                        <button class="text-sm text-primary-600 dark:text-primary-400 hover:underline font-semibold">Ver todas</button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-12 h-12 bg-green-100 dark:bg-green-800 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fas fa-check text-green-600 dark:text-green-400 text-lg"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-semibold text-gray-900 dark:text-white">Saludos y Presentaciones</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Completado - 100 XP</p>
                            </div>
                            <div class="text-right">
                                <span class="text-2xl">‚úÖ</span>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Hoy</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white dark:bg-dark-700 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fas fa-play text-purple-600 dark:text-purple-400 text-lg"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-semibold text-gray-900 dark:text-white">Vocabulario B√°sico</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">En progreso - 45%</p>
                                <div class="mt-2 bg-gray-200 dark:bg-gray-600 rounded-full h-2">
                                    <div class="bg-purple-500 rounded-full h-2 transition-all duration-1000" style="width: 45%"></div>
                                </div>
                            </div>
                            <span class="text-2xl">üìñ</span>
                        </div>
                        
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-xl flex items-center justify-center">
                                <i class="fas fa-lock text-gray-400 dark:text-gray-500 text-lg"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-semibold text-gray-400 dark:text-gray-500">N√∫meros y Colores</p>
                                <p class="text-sm text-gray-400 dark:text-gray-500">Desbloquea al completar Vocabulario B√°sico</p>
                            </div>
                            <span class="text-2xl opacity-50">üîí</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - 1/3 width -->
            <div class="space-y-8">
                <!-- Leaderboard Mejorado -->
                <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Clasificaci√≥n Global</h3>
                        <button class="text-sm text-primary-600 dark:text-primary-400 hover:underline font-semibold">Ver ranking completo</button>
                    </div>
                    
                    <div class="space-y-4">
                        <!-- Top 3 with special styling -->
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-800">
                            <span class="text-2xl font-bold text-yellow-500">ü•á</span>
                            <img src="https://ui-avatars.com/api/?name=Ana+Lopez&background=fbbf24&color=fff" class="w-10 h-10 rounded-full border-2 border-yellow-400" alt="">
                            <div class="flex-1">
                                <p class="font-semibold text-gray-900 dark:text-white">Ana L√≥pez</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">2,450 XP</p>
                            </div>
                            <div class="w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center">
                                <span class="text-sm font-bold text-yellow-600 dark:text-yellow-400">1</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                            <span class="text-xl font-bold text-gray-400">ü•à</span>
                            <img src="https://ui-avatars.com/api/?name=Carlos+Ruiz&background=9ca3af&color=fff" class="w-8 h-8 rounded-full" alt="">
                            <div class="flex-1">
                                <p class="font-semibold text-sm text-gray-900 dark:text-white">Carlos Ruiz</p>
                                <p class="text-xs text-gray-600 dark:text-gray-400">2,180 XP</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                            <span class="text-xl font-bold text-orange-600">ü•â</span>
                            <img src="https://ui-avatars.com/api/?name=Maria+Garcia&background=ea580c&color=fff" class="w-8 h-8 rounded-full" alt="">
                            <div class="flex-1">
                                <p class="font-semibold text-sm text-gray-900 dark:text-white">Mar√≠a Garc√≠a</p>
                                <p class="text-xs text-gray-600 dark:text-gray-400">1,920 XP</p>
                            </div>
                        </div>
                        
                        <!-- Current User Highlighted -->
                        <div class="flex items-center gap-4 p-3 rounded-xl bg-primary-50 dark:bg-primary-900/20 border-2 border-primary-200 dark:border-primary-800">
                            <span class="text-lg font-bold text-primary-600 dark:text-primary-400">4</span>
                            <img src="https://ui-avatars.com/api/?name=Usuario&background=6366f1&color=fff" class="w-8 h-8 rounded-full border-2 border-primary-500" alt="" id="leaderboard-avatar">
                            <div class="flex-1">
                                <p class="font-semibold text-sm text-primary-600 dark:text-primary-400">T√∫</p>
                                <p class="text-xs text-primary-500 dark:text-primary-400" id="leaderboard-xp">1,850 XP</p>
                            </div>
                            <div class="text-xs bg-primary-100 dark:bg-primary-800 text-primary-600 dark:text-primary-400 px-2 py-1 rounded-full">
                                +5 hoy
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Achievements Mejorado -->
                <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Logros Recientes</h3>
                        <button class="text-sm text-primary-600 dark:text-primary-400 hover:underline font-semibold">Ver todos</button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border border-yellow-200 dark:border-yellow-800 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                <span class="text-2xl">üéØ</span>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-900 dark:text-white">Primera Racha</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">3 d√≠as seguidos</p>
                                <div class="mt-1 flex items-center gap-1 text-xs text-yellow-600 dark:text-yellow-400">
                                    <i class="fas fa-gem"></i>
                                    <span>+50 XP</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4 p-3 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-10 h-10 bg-purple-100 dark:bg-purple-800/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform">
                                <span class="text-xl">‚≠ê</span>
                            </div>
                            <div>
                                <p class="font-semibold text-sm text-gray-900 dark:text-white">100 Puntos</p>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Alcanzaste 100 XP</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 hover:shadow-md transition-all cursor-pointer group">
                            <div class="w-10 h-10 bg-blue-100 dark:bg-blue-800/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform">
                                <span class="text-xl">üìö</span>
                            </div>
                            <div>
                                <p class="font-semibold text-sm text-gray-900 dark:text-white">Primera Lecci√≥n</p>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Completaste tu primera lecci√≥n</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Acciones R√°pidas</h3>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <button class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group">
                            <i class="fas fa-search text-gray-600 dark:text-gray-400 text-xl mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400"></i>
                            <span class="text-sm text-gray-700 dark:text-gray-300">Buscar Lecciones</span>
                        </button>
                        
                        <button class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group">
                            <i class="fas fa-download text-gray-600 dark:text-gray-400 text-xl mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400"></i>
                            <span class="text-sm text-gray-700 dark:text-gray-300">Descargar PDF</span>
                        </button>
                        
                        <button class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group">
                            <i class="fas fa-users text-gray-600 dark:text-gray-400 text-xl mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400"></i>
                            <span class="text-sm text-gray-700 dark:text-gray-300">Comunidad</span>
                        </button>
                        
                        <button class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group">
                            <i class="fas fa-question-circle text-gray-600 dark:text-gray-400 text-xl mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400"></i>
                            <span class="text-sm text-gray-700 dark:text-gray-300">Ayuda</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <script type="module">
        // ===== GESTI√ìN DE TEMA OSCURO/CLARO =====
        // Verificar tema guardado o preferencia del sistema [citation:3]
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            document.getElementById('theme-icon').className = 'fas fa-sun text-yellow-400';
        } else {
            document.documentElement.classList.remove('dark');
            document.getElementById('theme-icon').className = 'fas fa-moon text-gray-600';
        }

        // Toggle de tema
        document.getElementById('theme-toggle').addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            if (document.documentElement.classList.contains('dark')) {
                localStorage.theme = 'dark';
                document.getElementById('theme-icon').className = 'fas fa-sun text-yellow-400';
            } else {
                localStorage.theme = 'light';
                document.getElementById('theme-icon').className = 'fas fa-moon text-gray-600';
            }
        });

        // ===== VERIFICACI√ìN DE AUTENTICACI√ìN =====
        const usuario = JSON.parse(localStorage.getItem('usuario') || 'null');
        const token = localStorage.getItem('token');

        if (!usuario || !token) {
            window.location.href = 'login.html';
        }

        // Verificar rol
        if (usuario.rol !== 'alumno' && usuario.rol !== 'estudiante') {
            window.location.href = 'login.html';
        }

        // ===== FUNCIONES DE UTILIDAD =====
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            const bgColor = type === 'error' ? 'bg-red-500' : type === 'success' ? 'bg-green-500' : 'bg-blue-500';
            toast.className = `${bgColor} text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in dark:bg-opacity-90`;
            toast.innerHTML = `
                <i class="fas ${type === 'error' ? 'fa-exclamation-circle' : type === 'success' ? 'fa-check-circle' : 'fa-info-circle'}"></i>
                <span>${message}</span>
            `;
            document.getElementById('toast-container').appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // ===== CARGA DE DATOS DEL USUARIO =====
        async function loadUserData() {
            try {
                // Simulaci√≥n de datos - en producci√≥n esto vendr√≠a de tu API
                const userData = {
                    perfil: {
                        dias_racha: 7,
                        total_xp: 1850,
                        lecciones_completadas: 12,
                        nivel_usuario: 4,
                        nivel_actual: 'A1',
                        idioma_aprendizaje: 'Ingl√©s',
                        meta_diaria: 30
                    }
                };

                // Actualizar UI con datos del usuario
                const nombreCompleto = `${usuario.nombre || 'Usuario'} ${usuario.primer_apellido || ''}`;
                document.getElementById('user-name').textContent = usuario.nombre || 'Usuario';
                document.getElementById('dropdown-name').textContent = usuario.nombre || 'Usuario';
                document.getElementById('dropdown-email').textContent = usuario.correo || 'usuario@example.com';
                document.getElementById('greeting').textContent = `¬°Bienvenido, ${usuario.nombre || 'Usuario'}!`;
                
                const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(nombreCompleto)}&background=6366f1&color=fff`;
                document.getElementById('user-avatar').src = avatarUrl;
                document.getElementById('leaderboard-avatar').src = avatarUrl;

                // Datos del perfil
                if (userData.perfil) {
                    document.getElementById('dias-racha').textContent = userData.perfil.dias_racha || 0;
                    document.getElementById('total-xp').textContent = userData.perfil.total_xp || 0;
                    document.getElementById('lecciones-completadas').textContent = userData.perfil.lecciones_completadas || 0;
                    document.getElementById('nivel-usuario').textContent = userData.perfil.nivel_usuario || 1;
                    document.getElementById('nivel-actual').textContent = `${userData.perfil.nivel_actual || 'A1'} - ${userData.perfil.idioma_aprendizaje || 'Ingl√©s'}`;
                    document.getElementById('idioma-aprendizaje').textContent = userData.perfil.idioma_aprendizaje || 'Ingl√©s';
                    document.getElementById('meta-diaria').textContent = `${userData.perfil.meta_diaria || 30} min`;
                    document.getElementById('leaderboard-xp').textContent = `${userData.perfil.total_xp || 0} XP`;
                }

            } catch (error) {
                console.error('Error:', error);
                showToast('Error al cargar datos del perfil', 'error');
            }
        }

        // ===== GESTI√ìN DEL MEN√ö DE USUARIO =====
        const userMenuBtn = document.getElementById('user-menu-btn');
        const userDropdown = document.getElementById('user-dropdown');
        const userMenuArrow = document.getElementById('user-menu-arrow');

        userMenuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('hidden');
            userMenuArrow.classList.toggle('rotate-180');
        });

        // Cerrar dropdown al hacer click fuera
        document.addEventListener('click', (e) => {
            if (!userMenuBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                userDropdown.classList.add('hidden');
                userMenuArrow.classList.remove('rotate-180');
            }
        });

        // ===== LOGOUT =====
        document.getElementById('logout-btn').addEventListener('click', () => {
            localStorage.clear();
            showToast('Sesi√≥n cerrada correctamente', 'success');
            setTimeout(() => window.location.href = 'login.html', 1000);
        });

        // ===== ANIMACIONES DE CARGA =====
        // Animar elementos al hacer scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observar elementos para animaci√≥n
        document.querySelectorAll('.bg-white, .bg-gradient-to-br').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            observer.observe(el);
        });

        // ===== INICIALIZACI√ìN =====
        // Cargar datos al iniciar
        loadUserData();

        // Mostrar animaci√≥n de bienvenida
        setTimeout(() => {
            showToast(`¬°Bienvenido de nuevo, ${usuario.nombre || 'Usuario'}!`, 'success');
        }, 1000);
    </script>

    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulseSoft {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Scrollbar personalizado */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        .dark ::-webkit-scrollbar-track {
            background: #374151;
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: #6b7280;
        }
    </style>
</body>
</html>